[http]
# IP and port to listen on for HTTP requests
# Comment the "listen" line to disable the listener
listen = 127.0.0.1:8080

[app]
# Set to "true" to enable debug logging
debug = false

# The NATS server URL
natsurl = nats://localhost:4222

[sessions]
# The hash key to use for session ids (32 bytes hex encoded)
# Can be generated with: openssl rand -hex 16
hashkey = {{ signaling_session_hashkey }}

# The block key to use for session data encryption (32 bytes hex encoded)
# Can be generated with: openssl rand -hex 16
blockkey = {{ signaling_session_blockkey }}

[clients]
# Shared secret for connections from internal clients
# Can be generated with: openssl rand -hex 16
internalsecret = {{ signaling_internal_secret }}

[backend]
# Comma-separated list of backend endpoints (e.g., Nextcloud instances)
# Leave empty to accept connections from all backends with valid secret
backends = backend1

# Shared secret for authenticating backend requests (same as in Nextcloud Talk settings)
# This secret needs to be configured in Nextcloud Talk admin settings
secret = {{ signaling_backend_secret }}

# Allow all backends (for testing only, not recommended for production)
allowall = false

# Maximum number of concurrent backend connections per host
connectionsperhost = 8

# Timeout for backend requests
timeout = 10s

[backend1]
url = https://localhost
secret = {{ signaling_backend_secret }}

[nats]
# URL of the NATS server
url = nats://localhost:4222

[mcu]
# Type of MCU to use (leave empty for none, set to "janus" for Janus gateway)
# type = janus

# URL of the Janus gateway WebSocket
# url = ws://localhost:8188

# Maximum bitrate for streams (in bits per second)
# maxstreambitrate = 1048576

# Maximum bitrate for screen sharing (in bits per second)
# maxscreenbitrate = 2097152

[turn]
# API key for TURN REST API (if using coturn with REST API)
# apikey =

# Shared secret for TURN REST API (if using coturn with REST API)
# secret =

# TURN server URLs (comma-separated)
# servers = turn:turn.example.com:3478?transport=udp,turn:turn.example.com:3478?transport=tcp

[geoip]
# Path to GeoIP2 database file (optional, for location-based server selection)
# license =

[stats]
# Set to "true" to enable statistics collection
enabled = false
